<!DOCTYPE html>
<html lang="en/US">
  <head>
    <meta charset="UTF-8" />
    <meta name="google" content="notranslate" />
    <meta content="text/html; charset=UTF-8" name="Content-Type" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>three-ui</title>
    <style>
      html, body {
        width: 100%;
        height: 100%;
      }
      body {
        font-family: Clear Sans,Helvetica Neue,Arial,sans-serif;
        text-align: center;
        margin: 0 auto;
        background: var(--io-background-color);
      }
    </style>
    <!-- Import maps polyfill -->
    <!-- Remove this when import maps will be widely supported -->
    <script async src="https://unpkg.com/es-module-shims@1.5.4/dist/es-module-shims.js"></script>
    <script type="importmap">
      {
        "imports": {
          "io-gui": "./node_modules/io-gui/build/iogui.js",
          "io-gui/build/elements": "./node_modules/io-gui/build/iogui.elements.js",
          "io-gui-three-controls": "./node_modules/io-gui-three-controls/build/index.js",
          "three": "./node_modules/three/build/three.module.js",
          "three/examples/jsm/loaders/GLTFLoader.js": "./node_modules/three/examples/jsm/loaders/GLTFLoader.js",
          "three/examples/jsm/loaders/RGBELoader.js": "./node_modules/three/examples/jsm/loaders/RGBELoader.js",
          "three/examples/jsm/postprocessing/EffectComposer.js": "./node_modules/three/examples/jsm/postprocessing/EffectComposer.js",
          "three/examples/jsm/postprocessing/RenderPass.js": "./node_modules/three/examples/jsm/postprocessing/RenderPass.js",
          "three/examples/jsm/postprocessing/BokehPass.js": "./node_modules/three/examples/jsm/postprocessing/BokehPass.js",
          "three/examples/jsm/postprocessing/ShaderPass.js": "./node_modules/three/examples/jsm/postprocessing/ShaderPass.js",
          "three/examples/jsm/shaders/GammaCorrectionShader.js": "./node_modules/three/examples/jsm/shaders/GammaCorrectionShader.js",
          "three/examples/jsm/helpers/LightProbeHelper.js": "./node_modules/three/examples/jsm/helpers/LightProbeHelper.js",
          "three/examples/jsm/lights/LightProbeGenerator.js": "./node_modules/three/examples/jsm/lights/LightProbeGenerator.js"
        }
      }
    </script>
    <script type="module">
      import { IoElement, RegisterIoElement } from 'io-gui';
      import { Object3D, Scene } from 'three';
      import './build/index.js';

      export class ThreeUiDemo extends IoElement {
        static get Style() {
          return /* css */`
            :host {
              display: flex;
              position: relative;
              height: 100%;
              flex-direction: column;
              overflow: hidden;
            }
            :host > three-viewport {
              flex: 1 1 auto;
            }
          `;
        }
        static get Properties() {
          return {};
        }
        constructor(properties = {}) {
          super(properties);
          this.template([['three-viewport', {id: 'viewport'}]]);
          this.$.viewport.loadIbl('./assets/ibl/royal_esplanade_1k.hdr');
          this.$.viewport.loadModel('./assets/models/cubes/cubes.gltf', (scene) => {
            scene.traverse((obj) => {
              obj.layers.set(1);
            });
            scene.scale.set(500, 500, 500);
          });
        }
      }

      RegisterIoElement(ThreeUiDemo);
    </script>
  </head>
  <body>
    <three-ui-demo></three-ui-demo>
  </body>
</html>
